# AIプロンプトテンプレート集

**最終更新**: 2026-01-15

AI駆動開発で汎用的に使えるプロンプトテンプレートをまとめています。

---

## 目次

1. [コードレビュー](#1-コードレビュー)
2. [バグ修正](#2-バグ修正)
3. [リファクタリング](#3-リファクタリング)
4. [テスト作成](#4-テスト作成)
5. [ドキュメント生成](#5-ドキュメント生成)
6. [設計・アーキテクチャ](#6-設計アーキテクチャ)
7. [パフォーマンス最適化](#7-パフォーマンス最適化)
8. [セキュリティ](#8-セキュリティ)
9. [仕様駆動開発](#9-仕様駆動開発)

---

## 1. コードレビュー

### 基本レビュー
```
以下のコードをレビューしてください：
- バグの可能性
- パフォーマンスの問題
- 可読性の改善点
- ベストプラクティスからの逸脱

[コードを貼り付け]
```

### PR レビュー
```
このPRをレビューしてください。以下の観点でフィードバックをお願いします：
1. ロジックの正確性
2. エッジケースの考慮
3. テストカバレッジ
4. 命名とコードスタイル
5. セキュリティ上の懸念
```

### 特定観点のレビュー
```
以下のコードを [セキュリティ/パフォーマンス/アクセシビリティ] の観点でレビューしてください。

[コードを貼り付け]
```

---

## 2. バグ修正

### バグ調査
```
以下のエラーが発生しています。原因を特定し、修正方法を提案してください。

【エラーメッセージ】
[エラーを貼り付け]

【関連コード】
[コードを貼り付け]

【再現手順】
1.
2.
```

### デバッグ支援
```
以下の関数が期待通りに動作しません。

【期待される動作】
[説明]

【実際の動作】
[説明]

【コード】
[コードを貼り付け]
```

---

## 3. リファクタリング

### 基本リファクタリング
```
以下のコードを読みやすく、保守しやすい形にリファクタリングしてください。
既存の動作は変更しないでください。

[コードを貼り付け]
```

### 特定パターンへの変換
```
以下のコードを [Strategy/Factory/Observer] パターンを使ってリファクタリングしてください。
変更理由も説明してください。

[コードを貼り付け]
```

### 関数分割
```
以下の長い関数を、単一責任の原則に従って複数の関数に分割してください。

[コードを貼り付け]
```

---

## 4. テスト作成

### ユニットテスト
```
以下の関数に対するユニットテストを作成してください。
- 正常系
- 境界値
- 異常系（エラーケース）
をカバーしてください。

【テスト対象】
[コードを貼り付け]

【テストフレームワーク】
[Jest/Vitest/pytest 等]
```

### 統合テスト
```
以下のAPIエンドポイントに対する統合テストを作成してください。

【エンドポイント】
[API仕様を記述]

【テストケース】
- 認証成功/失敗
- バリデーションエラー
- 正常レスポンス
```

### E2Eテスト
```
以下のユーザーフローに対するE2Eテストを作成してください。
Playwright/Cypressを使用します。

【フロー】
1. ログインページを開く
2. 認証情報を入力
3. ダッシュボードに遷移
4. 特定の要素が表示されることを確認
```

---

## 5. ドキュメント生成

### README作成
```
このプロジェクトのREADMEを作成してください。以下を含めてください：
- プロジェクト概要
- インストール手順
- 使い方
- 設定オプション
- ライセンス

【プロジェクト情報】
[概要を記述]
```

### API ドキュメント
```
以下のAPIの仕様書をOpenAPI/Swagger形式で作成してください。

【エンドポイント】
[API情報を記述]
```

### コメント・JSDoc追加
```
以下の関数にJSDoc/docstringを追加してください。
パラメータ、戻り値、例外、使用例を含めてください。

[コードを貼り付け]
```

---

## 6. 設計・アーキテクチャ

### 設計レビュー
```
以下の設計についてフィードバックをください：
- スケーラビリティ
- 保守性
- パフォーマンス
- セキュリティ

【設計概要】
[設計を記述]
```

### アーキテクチャ提案
```
以下の要件を満たすシステムアーキテクチャを提案してください。

【要件】
- [要件1]
- [要件2]

【制約】
- [技術的制約]
- [予算/時間的制約]

【考慮事項】
- 将来の拡張性
- チームのスキルセット
```

### データモデル設計
```
以下の機能に必要なデータモデル（ER図/スキーマ）を設計してください。

【機能概要】
[説明]

【主要エンティティ】
- ユーザー
- 注文
- 商品
```

---

## 7. パフォーマンス最適化

### パフォーマンス分析
```
以下のコードのパフォーマンスを分析し、改善点を提案してください。

【コード】
[コードを貼り付け]

【現在の問題】
- 処理に[X]秒かかっている
- メモリ使用量が高い
```

### クエリ最適化
```
以下のSQLクエリを最適化してください。
実行計画を考慮し、インデックスの提案も含めてください。

[SQLを貼り付け]

【テーブル構造】
[スキーマを記述]
```

### フロントエンド最適化
```
以下のReactコンポーネントのパフォーマンスを改善してください。
不要な再レンダリングを防ぎ、メモ化を適切に適用してください。

[コードを貼り付け]
```

---

## 8. セキュリティ

### セキュリティ監査
```
以下のコードにセキュリティ上の問題がないかレビューしてください。
OWASP Top 10を考慮してください。

[コードを貼り付け]
```

### 認証/認可実装
```
以下の要件に対する認証/認可の実装を提案してください。

【要件】
- [認証方式]
- [権限レベル]
- [セッション管理]
```

### 入力バリデーション
```
以下のエンドポイントに適切な入力バリデーションを追加してください。
SQLインジェクション、XSS等を防止してください。

[コードを貼り付け]
```

---

## 9. 仕様駆動開発

### 仕様作成支援
```
以下の要件に対する機能仕様を作成してください。

【要件】
[要件を記述]

【技術スタック】
[使用する技術]

【制約】
[制約事項があれば]

【出力形式】
- 概要
- ユーザーストーリー
- 受け入れ基準
- 入力/出力
- エッジケース
- セキュリティ考慮事項
```

### 仕様レビュー
```
以下の仕様をレビューしてください。

【レビュー観点】
- 曖昧な点・複数解釈可能な箇所
- 不足している情報（入力/出力/エラー）
- エッジケースの漏れ
- セキュリティ上の懸念
- パフォーマンス要件の有無

【仕様】
[仕様を貼り付け]
```

### 仕様からテストケース生成
```
以下の仕様に基づいて、包括的なテストケースを生成してください。

【テストフレームワーク】
[Jest/Vitest/pytest 等]

【カバーすべき観点】
- 正常系（Happy path）
- 異常系（Error cases）
- 境界値（Boundary conditions）
- エッジケース

【仕様】
[仕様を貼り付け]
```

### 仕様とコードの整合性確認
```
以下のファイルが仕様と整合しているか確認してください。

【仕様ファイル】
[仕様ファイルのパス]

【実装ファイル】
[実装ファイルのパス]

差異があれば報告し、修正案を提示してください。
```

### API仕様からクライアント生成
```
以下のAPI仕様に基づいて、型安全なAPIクライアントを生成してください。

【言語/フレームワーク】
[TypeScript/Python 等]

【API仕様】
[OpenAPI/仕様を貼り付け]
```

### 仕様変更の影響分析
```
以下の仕様変更が、既存のコードベースに与える影響を分析してください。

【変更前】
[変更前の仕様]

【変更後】
[変更後の仕様]

【確認事項】
- 影響を受けるファイル
- 必要なテストの更新
- 後方互換性の有無
```

### BDD形式への変換
```
以下の機能仕様をGherkin（BDD）形式に変換してください。

【仕様】
[仕様を貼り付け]

【出力形式】
Feature/Scenario/Given-When-Then形式
```

### 仕様からドキュメント生成
```
以下の仕様に基づいて、開発者向けのAPI リファレンスドキュメントを生成してください。

【形式】
Markdown

【含めるべき内容】
- エンドポイント一覧
- リクエスト/レスポンス例
- エラーコード一覧
- 使用例

【仕様】
[仕様を貼り付け]
```

---

## プロンプトのベストプラクティス

### 効果的なプロンプトの書き方

1. **具体的に**: 曖昧な表現を避け、具体的な要求を記述
2. **コンテキストを提供**: 必要な背景情報を含める
3. **出力形式を指定**: 期待する出力形式を明示
4. **制約を明記**: 使用技術、スタイルガイド等の制約を記載
5. **例を示す**: 期待する出力の例を提供

### プロンプトテンプレートの構造

```
【目的】
何を達成したいか

【コンテキスト】
背景情報、関連コード、技術スタック

【要求】
具体的にやってほしいこと

【制約】
守るべきルール、使用する技術

【出力形式】
期待する出力の形式
```

---

## Espanso/Raycast スニペット化

これらのプロンプトはEspansoやRaycastのスニペットとして登録すると便利です。

### Espanso 例
```yaml
# ~/.config/espanso/match/prompts.yml
matches:
  - trigger: ":review"
    replace: |
      以下のコードをレビューしてください：
      - バグの可能性
      - パフォーマンスの問題
      - 可読性の改善点

      ```
      $|$
      ```

  - trigger: ":unittest"
    replace: |
      以下の関数に対するユニットテストを作成してください。
      正常系、境界値、異常系をカバーしてください。

      $|$
```

### Raycast スニペット

Raycastの設定からスニペットを追加できます：
1. Raycast → Settings → Extensions → Snippets
2. Add Snippet
3. Keyword（例: `!review`）とテキストを設定

---

## 参考リンク

- [Anthropic Prompt Engineering Guide](https://docs.anthropic.com/claude/docs/prompt-engineering)
- [OpenAI Best Practices](https://platform.openai.com/docs/guides/prompt-engineering)
- [Prompt Engineering Guide](https://www.promptingguide.ai/)
