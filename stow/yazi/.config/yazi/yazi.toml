# ===========================================
# yazi.toml - yazi基本設定
# ===========================================
# ファイルマネージャーの動作設定
# テーマ: TokyoNight（theme.tomlで定義）

[manager]
# レイアウト比率（親:現在:プレビュー）
ratio = [1, 3, 4]

# ソート設定
sort_by = "natural"
sort_sensitive = false
sort_reverse = false
sort_dir_first = true

# 表示設定
show_hidden = false
show_symlink = true
linemode = "size"

[preview]
# プレビュー設定
tab_size = 2
max_width = 1000
max_height = 1000

# 画像プレビュー（Ghosttyで動作）
image_filter = "triangle"
image_quality = 75
sixel_fraction = 15

# キャッシュ
cache_dir = ""

[opener]
# ファイルを開くアプリケーション
edit = [
  { run = 'nvim "$@"', block = true, desc = "Edit with Neovim" },
  { run = 'open -a "Antigravity" "$@"', desc = "Edit with Antigravity" },
]
open = [
  { run = 'open "$@"', desc = "Open with default app" },
]
reveal = [
  { run = 'open -R "$@"', desc = "Reveal in Finder" },
]

[open]
# ファイルタイプ別のデフォルトアクション
rules = [
  # テキストファイル
  { mime = "text/*", use = ["edit", "reveal"] },

  # 画像
  { mime = "image/*", use = ["open", "reveal"] },

  # 動画/音声
  { mime = "video/*", use = ["open", "reveal"] },
  { mime = "audio/*", use = ["open", "reveal"] },

  # PDF
  { mime = "application/pdf", use = ["open", "reveal"] },

  # アーカイブ
  { mime = "application/zip", use = ["open", "reveal"] },
  { mime = "application/*-compressed", use = ["open", "reveal"] },

  # ディレクトリ
  { name = "*/", use = ["edit", "reveal"] },

  # フォールバック
  { name = "*", use = ["open", "reveal"] },
]

[tasks]
# 並列タスク数
micro_workers = 10
macro_workers = 25
bizarre_retry = 5

[plugin]
# プラグイン設定（必要に応じて追加）
preloaders = []

[input]
# 入力設定
cd_title = "Change directory:"
create_title = "Create:"
rename_title = "Rename:"
trash_title = "Move to trash (y/N):"
delete_title = "Delete permanently (y/N):"
filter_title = "Filter:"
find_title = ["Find:", "Find (prev):"]
search_title = "Search via rg:"
shell_title = ["Shell:", "Shell (block):"]

[select]
# 選択ダイアログ
open_title = "Open with:"
