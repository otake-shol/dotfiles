# direnv + nix-direnv 統合
# このファイルはdotfilesディレクトリ用の開発環境を定義

# Nixが利用可能な場合はflakeから開発環境を読み込む
if has nix; then
    # nix-direnvを使用（キャッシュ機能付き）
    if has use_flake; then
        use flake
    elif has use_nix; then
        use nix
    fi
fi

# 環境変数
export DOTFILES_DIR="$PWD"
export DOTFILES_PROFILE="${DOTFILES_PROFILE:-personal}"

# パス追加
PATH_add scripts/utils
PATH_add scripts/maintenance

# 開発時の設定
export EDITOR="nvim"
export VISUAL="nvim"

# デバッグ用（必要に応じてコメント解除）
# export DIRENV_LOG_FORMAT=""
