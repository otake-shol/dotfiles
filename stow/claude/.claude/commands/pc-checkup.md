# /pc-checkup - PC健康診断

PCの動作が重い時に原因を特定し、対応案を提示します。

## 診断手順

### 1. システム状態の確認
```bash
top -l 1 -n 0 | head -10
```
- Load Average
- CPU使用率（idle%）
- メモリ使用量（PhysMem）
- スワップ状況

### 2. 負荷の高いプロセスを特定
```bash
ps -Ao pid,rss,comm -m | head -20
```
- メモリ消費量順に表示
- 異常に高いプロセスを特定

### 3. 使用中のポートを確認（開発サーバー等）
```bash
lsof -i -P | grep LISTEN | head -20
```

## 診断結果の出力フォーマット

```
## 診断結果

| 項目 | 状態 | 詳細 |
|------|------|------|
| CPU | ✅/⚠️ | Load Avg, idle% |
| メモリ | ✅/⚠️ | 使用量/空き |
| ディスク | ✅/⚠️ | 空き容量 |

## 負荷の原因（上位5件）

| プロセス | メモリ | CPU | 対応 |
|----------|--------|-----|------|
| xxx | xxxMB | xx% | 停止推奨/様子見 |

## 対応案

1. **即効性あり**
   - [対応内容と実行コマンド]

2. **検討推奨**
   - [対応内容と実行コマンド]
```

## よくある対応案

### 開発サーバーの停止
```bash
lsof -i :ポート番号 -t | xargs kill
```

### npmキャッシュクリア
```bash
npm cache clean --force
# または
pnpm store prune
```

### 不要なDockerリソース削除
```bash
docker system prune -f
```

### メモリ圧迫時
- 不要なブラウザタブを閉じる
- 使っていないアプリを終了
- 複数起動しているClaude CLIセッションを終了

## 注意事項

- 対応を実行する前にユーザーに確認を取る
- 強制終了（kill -9）は最終手段
- 重要なプロセスを誤って停止しないよう注意
